(()=>{"use strict";!function(e){let t=new Image;t.onload=t.onerror=function(){!function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}(),(()=>{let e=0;window.onscroll=function(){let t=window.pageYOffset;e>t?document.querySelector("header").classList.remove("header--scroll"):e<t&&document.querySelector("header").classList.add("header--scroll"),e=t}})(),(()=>{const e=document.querySelector(".messengers-box__base-icon"),t=document.querySelectorAll(".messengers-box__link");e.addEventListener("click",(t=>{e.classList.toggle("base-icon-hidden")})),t.forEach((t=>{e.addEventListener("click",(function(){t.classList.toggle("icons-show"),document.addEventListener("click",(s=>{const n=s.target.classList.contains("blind-click");s.target.className,0==n&&(t.classList.remove("icons-show"),e.classList.remove("base-icon-hidden"))}))}))})),document.querySelectorAll(".messengers-box__link").forEach((e=>{const t=window.outerWidth,s=window.outerHeight;t>s?e.classList.toggle("direction-x"):s>t&&e.classList.toggle("direction-y"),window.addEventListener("resize",(function(){const t=window.outerWidth,s=window.outerHeight;t>s?(e.classList.remove("direction-y"),e.classList.add("direction-x")):s>t&&(e.classList.remove("direction-x"),e.classList.add("direction-y"))}))}))})();const e=document.querySelector(".menu-icon");e.addEventListener("click",(function(){e.classList.toggle("fa-times");const t=document.querySelector(".menu");t.classList.toggle("menu-mobile"),document.addEventListener("click",(s=>{const n=s.target.classList.contains("blind-click");s.target.className,0==n&&(e.classList.remove("fa-times"),t.classList.remove("menu-mobile"))}))}));try{if(null!==document.getElementById("contacts")){let e=document.getElementsByClassName("form__body")[0];document.addEventListener("DOMContentLoaded",(function(){e.reset();const t=document.getElementById("form");function s(e){e.parentElement.classList.add("_error"),e.classList.add("_error")}function n(e){e.parentElement.classList.remove("_error"),e.classList.remove("_error")}function o(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}t.addEventListener("submit",(async function(e){e.preventDefault();let c=function(e){let t=0,c=document.querySelectorAll("._req");for(let e=0;e<c.length;e++){const i=c[e];n(i),i.classList.contains("_email")?o(i)&&(s(i),t++):("checkbox"===i.getAttribute("type")&&!1===i.checked||""===i.value)&&(s(i),t++)}return t}(),i=new FormData(t);if(0===c){t.classList.add("_sending");let e=await fetch("sendmail.php",{method:"POST",body:i});if(e.ok){let s=await e.json();alert(s.message),formPreview.innerHTML="",t.reset(),t.classList.remove("_sending")}else alert("Ошибка!"),t.classList.remove("_sending")}else alert("Заполните обязательные поля!")}))}))}}catch(e){}})();